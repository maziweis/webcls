webpackJsonp([1],{"0jBH":function(t,e){},"2v13":function(t,e){},"5cuZ":function(t,e){},EVGO:function(t,e){},I8bR:function(t,e,i){t.exports=i.p+"static/img/bookrack.3702ecb.png"},JxmZ:function(t,e){},NHnr:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n={};i.d(n,"UPDATE_SCHDULE",function(){return mt});var a={};i.d(a,"getNewSchedule",function(){return wt});var s={};i.d(s,"UPDATE_SCHDULE",function(){return bt});var o=i("7+uW"),r=i("mtWM"),c=i.n(r),l=i("mvHQ"),u=i.n(l);!function(){if(!window.sClassJSBridge){var t,e={},i=(t=navigator.userAgent).match(/iphone|ipad|mac/i)?"ios":t.match(/Android/i)?"android":"",n={call:function(t,n,r){var t=t+"_n",n=void 0===n?{}:n,c=r&&"function"==typeof r,l=t,r=r;c&&(e[t]=r);if(r="function"==typeof r?r:function(){},n.cbId=l,console.log("js桥开始:",t,n,window.name),"ios"===i&&"OpenAct"!==window.name)o(function(e){e.callHandler(t,n,r)});else if("android"===i&&"OpenAct"!==window.name)window.WebViewJavascriptBridge.callHandler(t,n,r);else{if(!s()||"OpenAct"===window.name){var d=a("hostName"),h=location.host;if(d===h){if(!(window.parent.webJsBridge&&window.parent.webJsBridge)[t])return;return void window.parent.webJsBridge[t](l,n)}return void window.parent.postMessage({fName:t,cbId:l,message:n},"*")}window.callHostFunction[t](u()(n))}},register:function(t,e){"android"===i&&window.WebViewJavascriptBridge.registerHandler(t,e)},handleMessage:r,common:{back:function(){history.length>1&&history.go(-1)},refresh:function(){location.reload()},initially:function(t){switch(t){case"goBack":console.log("回到上一个保存的页面（如电影片段）!");break;case"reset":console.log("通知资源先调用ending事件，再重置资源页!");break;case"":console.log("直接初始化资源")}}}};o(function(t){t.registerHandler("recordMessageHandler",function(t){if(t.success){var e=t.FilePath;alert(e)}})}),function(){if("OpenAct"===window.name&&a("postConfig")){var t="getConfig_n";window.parent.postMessage({fName:t,cbId:t,message:"receivePM"},"*"),e="config.json",i=function(e){e=JSON.parse(e),window.parent.postMessage({fName:t,cbId:t,message:e},"*")},(n=new XMLHttpRequest).open("GET",e,!0),n.onload=function(){200!=n.status&&304!=n.status||i.call(this,n.responseText)},n.send()}var e,i,n}(),(i||s())&&"OpenAct"!==window.name||window.addEventListener("message",function(t){var e=t.data;e.type&&"webpackInvalid"!==e.type&&"webpackWarnings"!==e.type&&"webpackOk"!==e.type&&(/_n$/i.test(e.cbId)?r(e.cbId,e.data):n.common[e.cbId](e.data))},!1),window.sClassJSBridge=n,window.setupWebJSBridge=o}function a(t){var e=new RegExp("(?:^|&)"+t+"=([^&]*)(?:&|$)"),i=window.location.search.substr(1).match(e);return null!==i?decodeURIComponent(i[1]):null}function s(){return"undefined"!=typeof callHostFunction}function o(t){return window.WebViewJavascriptBridge?t(WebViewJavascriptBridge):"undefined"==typeof WebViewJavascriptBridge?window.WVJBCallbacks?window.WVJBCallbacks.push(t):void(window.WVJBCallbacks=[t]):void document.addEventListener("WebViewJavascriptBridgeReady",function(){t(WebViewJavascriptBridge)},!1)}function r(t,i){for(console.log("js桥结束:",t,i);"string"==typeof i;)i=JSON.parse(i);try{var n=e[t];if(!n)return;n.apply(null,[i])}catch(t){alert(t)}}}();var d=window.sClassJSBridge;let h="http://192.168.3.187:1213";var p={fileServer:"http://183.47.42.218:1777",apiServer:h},f=function(t){var e=function(){},i=t.type,n=t.url,a=t.data||null,s=t.success||e,r=t.error||e,l=p.apiServer;if(o.a.onlineEnv){var u={method:i.toLowerCase(),url:l+n};u["get"===u.method?"params":"data"]=a,c()(u).then(function(t){s(t.data)},r)}else{var h=n.split("/").pop();d.call(h,a,s)}},g=function(t){var e=new RegExp("(?:^|&)"+t+"=([^&]*)(?:&|$)"),i=window.location.search.substr(1).match(e);return null!==i?decodeURIComponent(i[1]):null},v=function(t){var e=new Date(t),i=[],n=[];return i.push(e.getFullYear()),i.push((e.getMonth()+1).toString().padStart(2,"0")),i.push(e.getDate().toString().padStart(2,"0")),n.push(e.getHours().toString().padStart(2,"0")),n.push(e.getMinutes().toString().padStart(2,"0")),n.push(e.getSeconds().toString().padStart(2,"0")),i.join("-")+"T"+n.join(":")},m=(i("j1ja"),i("/ocq")),w=i("//Fk"),b=i.n(w),y=i("gApy"),S=i.n(y),T=i("gBtx"),_=i.n(T),D={name:"swipe",data:function(){return{pageNum:-999,moveFlag:!1,flag:!0,ready:!1,dragging:!1,userScrolling:!1,animating:!1,index:0,pages:[],timer:null,reInitTimer:null,noDrag:!1}},props:{speed:{type:Number,default:300},defaultIndex:{type:Number,default:0},disabled:{type:Boolean,default:!1},auto:{type:Number,default:3e3},continuous:{type:Boolean,default:!0},noDragWhenSingle:{type:Boolean,default:!0},prevent:{type:Boolean,default:!1},propagation:{type:Boolean,default:!1}},created:function(){this.dragState={}},mounted:function(){var t=this;this.ready=!0,this.auto>0&&(this.timer=setInterval(function(){t.dragging||t.animating||t.next()},this.auto));var e=this.$el;e.addEventListener("touchstart",function(e){t.prevent&&e.preventDefault(),t.propagation&&e.stopPropagation(),t.animating||(t.dragging=!0,t.userScrolling=!1,t.doOnTouchStart(e))}),e.addEventListener("touchmove",function(e){t.dragging&&t.doOnTouchMove(e)}),e.addEventListener("touchend",function(e){if(t.userScrolling)return t.dragging=!1,void(t.dragState={});t.dragging&&(t.doOnTouchEnd(e),t.dragging=!1)}),e.addEventListener("touchstart",this.dragStartEvent),e.addEventListener("touchmove",this.dragMoveEvent),e.addEventListener("touchend",this.dragEndEvent),e.addEventListener("mousedown",this.dragStartEvent),document.addEventListener("mousemove",this.dragMoveEvent),document.addEventListener("mouseup",this.dragEndEvent)},methods:{once:function(t,e,i){t.addEventListener(e,function n(){i(),t.removeEventListener(e,n)})},addClass:function(t,e){t.classList.add(e)},removeClass:function(t,e){t.classList.remove(e)},attr:function(t,e,i){if(void 0===i)return t.getAttribute(e);t.setAttribute(e,i)},swipeItemCreated:function(){var t=this;this.ready&&(clearTimeout(this.reInitTimer),this.reInitTimer=setTimeout(function(){t.reInitPages()},100))},swipeItemDestroyed:function(){var t=this;this.ready&&(clearTimeout(this.reInitTimer),this.reInitTimer=setTimeout(function(){t.reInitPages()},100))},translate:function(t,e,i,n){var a=this,s=arguments;if(i){this.animating=!0,t.style.webkitTransition="-webkit-transform "+i+"ms ease-in-out",setTimeout(function(){t.style.webkitTransform="translate3d("+e+"px, 0, 0)"},50);var o=!1,r=function(){o||(o=!0,a.animating=!1,t.style.webkitTransition="",t.style.webkitTransform="",n&&n.apply(a,s))};this.once(t,"webkitTransitionEnd",r),setTimeout(r,i+100)}else t.style.webkitTransition="",t.style.webkitTransform="translate3d("+e+"px, 0, 0)"},reInitPages:function(){var t=this,e=this.$children;this.noDrag=1===e.length&&this.noDragWhenSingle;var i=[];this.index=this.defaultIndex,e.forEach(function(e,n){i.push(e.$el),t.removeClass(e.$el,"is-active"),n===t.defaultIndex&&(t.lazyLoadImg(e.$el,n),t.addClass(e.$el,"is-active"))}),this.pages=i,-999!==this.pageNum&&(this.goto(this.pageNum),this.pageNum=-999)},lazyLoadImg:function(t,e){var i=this,n=this.$children[e-1]?this.$children[e-1].$el:"",a=this.$children[e+1]?this.$children[e+1].$el:"",s=[t];n&&s.push(n),a&&s.push(a),s.forEach(function(t){i.attr(t.querySelector("section"),"style")||Array.prototype.slice.call(t.querySelectorAll("section")).forEach(function(t){var e=i.attr(t,"data-original");i.attr(t,"style","background-image: url("+e+")")})})},doAnimate:function(t,e){var i=this;if(0!==this.$children.length&&(e||!(this.$children.length<2))){var n,a,s,o,r,c,l=this.speed||300,u=this.index,d=this.pages,h=d.length;e&&"goto"!==t?(n=e.prevPage,s=e.currentPage,a=e.nextPage,o=e.pageWidth,r=e.offsetLeft):(e=e||{},o=this.$el.clientWidth,s=d[u],"goto"===t?(n=e.prevPage,a=e.nextPage):(n=d[u-1],a=d[u+1]),this.continuous&&d.length>1&&(n||(n=d[d.length-1]),a||(a=d[0])),n&&(n.style.display="block",this.translate(n,-o)),a&&(a.style.display="block",this.translate(a,o)));var p=this.$children[u].$el;"prev"===t?(u>0&&(c=u-1),this.continuous&&0===u&&(c=h-1)):"next"===t?(u<h-1&&(c=u+1),this.continuous&&u===h-1&&(c=0)):"goto"===t&&e.newIndex>-1&&e.newIndex<h&&(c=e.newIndex);var f=function(){if(void 0!==c){var e=i.$children[c].$el;i.lazyLoadImg(e,c),i.removeClass(p,"is-active"),i.addClass(e,"is-active"),i.index=c,i.$emit("change",c,u,t)}n&&(n.style.display=""),a&&(a.style.display="")};setTimeout(function(){"next"===t?(i.translate(s,-o,l,f),a&&i.translate(a,0,l)):"prev"===t?(i.translate(s,o,l,f),n&&i.translate(n,0,l)):"goto"===t?n?(i.translate(s,o,l,f),i.translate(n,0,l)):a&&(i.translate(s,-o,l,f),i.translate(a,0,l)):(i.translate(s,0,l,f),void 0!==r?(n&&r>0&&i.translate(n,-1*o,l),a&&r<0&&i.translate(a,o,l)):(n&&i.translate(n,-1*o,l),a&&i.translate(a,o,l)))},10)}},next:function(){this.doAnimate("next")},prev:function(){this.doAnimate("prev")},goto:function(t){0!==this.pages.length?t<this.index?this.doAnimate("goto",{newIndex:t,prevPage:this.pages[t]}):this.doAnimate("goto",{newIndex:t,nextPage:this.pages[t]}):this.pageNum=t},doOnTouchStart:function(t){if(!this.noDrag&&!this.disabled){var e=this.$el,i=this.dragState,n=t.changedTouches?t.changedTouches[0]:t;i.startTime=new Date,i.startLeft=n.pageX,i.startTop=n.pageY,i.startTopAbsolute=n.clientY,i.pageWidth=e.offsetWidth,i.pageHeight=e.offsetHeight;var a=this.$children[this.index-1],s=this.$children[this.index],o=this.$children[this.index+1];this.continuous&&this.pages.length>1&&(a||(a=this.$children[this.$children.length-1]),o||(o=this.$children[0])),i.prevPage=a?a.$el:null,i.dragPage=s?s.$el:null,i.nextPage=o?o.$el:null,i.prevPage&&(i.prevPage.style.display="block"),i.nextPage&&(i.nextPage.style.display="block")}},doOnTouchMove:function(t){if(!this.noDrag&&!this.disabled){var e=this.dragState,i=t.changedTouches?t.changedTouches[0]:t;e.currentLeft=i.pageX,e.currentTop=i.pageY,e.currentTopAbsolute=i.clientY;var n=e.currentLeft-e.startLeft,a=e.currentTopAbsolute-e.startTopAbsolute,s=Math.abs(n),o=Math.abs(a);if(s<5||s>=5&&o>=1.73*s)this.userScrolling=!0;else{this.userScrolling=!1,t.preventDefault();var r=(n=Math.min(Math.max(1-e.pageWidth,n),e.pageWidth-1))<0?"next":"prev";e.prevPage&&"prev"===r&&this.translate(e.prevPage,n-e.pageWidth),this.translate(e.dragPage,n),e.nextPage&&"next"===r&&this.translate(e.nextPage,n+e.pageWidth),document.body.setAttribute("drag",!0)}}},doOnTouchEnd:function(){if(!this.noDrag&&!this.disabled){var t=this.dragState,e=new Date-t.startTime,i=null,n=t.currentLeft-t.startLeft,a=t.currentTop-t.startTop,s=t.pageWidth,o=this.index,r=this.pages.length;if(e<300){var c=Math.abs(n)<5&&Math.abs(a)<5;(isNaN(n)||isNaN(a))&&(c=!0),c&&this.$children[this.index].$emit("tap")}e<300&&void 0===t.currentLeft||((e<300||Math.abs(n)>s/2)&&(i=n<0?"next":"prev"),this.continuous||(0===o&&"prev"===i||o===r-1&&"next"===i)&&(i=null),this.$children.length<2&&(i=null),this.doAnimate(i,{offsetLeft:n,pageWidth:t.pageWidth,prevPage:t.prevPage,currentPage:t.dragPage,nextPage:t.nextPage}),this.dragState={})}},dragStartEvent:function(t){this.prevent&&t.preventDefault(),this.animating||(this.dragging=!0,this.userScrolling=!1,this.doOnTouchStart(t))},dragMoveEvent:function(t){this.dragging&&this.doOnTouchMove(t)},dragEndEvent:function(t){if(setTimeout(function(){document.body.removeAttribute("drag")}),this.userScrolling)return this.dragging=!1,void(this.dragState={});this.dragging&&(this.doOnTouchEnd(t),this.dragging=!1)}},destroyed:function(){this.timer&&(clearInterval(this.timer),this.timer=null),this.reInitTimer&&(clearTimeout(this.reInitTimer),this.reInitTimer=null)}},x={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"mint-swipe"},[e("ul",{ref:"wrap",staticClass:"mint-swipe-items-wrap"},[this._t("default")],2)])},staticRenderFns:[]};var L={render:function(){var t=this.$createElement;return(this._self._c||t)("li",{staticClass:"mint-swipe-item"},[this._t("default")],2)},staticRenderFns:[]},I={optIdObj:{resOpt:1302,innerResOpt:{val:1303,child:{spotRead:130301,listen_write:130302,allRead:130303}}},getVal:function(t,e){var i=[];return"string"==typeof e?t[e]:(e.forEach(function(e){0===i.length?i.push(t[e]):i.push(i.pop()[e])}),i.pop())},userOptLog:function(t){f({type:"GET",url:"/api/userOperLog",data:{UserID:g("UserID"),userType:12,operId:this.getVal(this.optIdObj,t.operId),content:u()(t.data)},success:function(t){},error:function(t){}})}},k={name:"ebook",data:function(){return{fileServer:"",bookList:[],DBJsonPath:"",pxRate:0,show:!1,defaultPage:0,audioStatus:"paused",audio:null}},components:{Swipe:i("VU/8")(D,x,!1,function(t){i("psyf")},null,null).exports,SwipeItem:i("VU/8")({name:"mt-swipe-item",mounted:function(){this.$parent&&this.$parent.swipeItemCreated(this)},destroyed:function(){this.$parent&&this.$parent.swipeItemDestroyed(this)}},L,!1,null,null,null).exports},mounted:function(){var t=this;o.a.onlineEnv?this.fileServer=p.fileServer:this.fileServer="",this.audio=this.$el.querySelector("#audio"),this.initBookWrap(),window.addEventListener("resize",function(){t.initBookWrap()})},methods:{goto:function(t){var e=this.$el.querySelector("section.page"+t);if(e){var i=_()(e.parentNode.getAttribute("data-index"));this.$refs.mySwipe.goto(i)}},prev:function(){this.$refs.mySwipe.prev()},next:function(){this.$refs.mySwipe.next()},changeSwipe:function(t,e,i){var n=this,a=_()(this.$el.querySelectorAll("li")[t].querySelector("section.left").getAttribute("data-page")),s=this.$el.querySelectorAll("li")[e],o=_()(s.querySelector("section.left").getAttribute("data-page")),r=this.audio;if("playing"===this.audioStatus){r.pause();var c=s.querySelector(".active");c&&c.classList.remove("active")}var l=[];[t-2,t-1,t,t+1,t+2,t+3].forEach(function(t){n.needLazyLoad(t)&&l.push(t)}),this.$emit("change",a,o,l,i)},initData:function(t,e){this.DBJsonPath=void 0===e?"data/49a92e48-1f39-4382-9273-0a0d521162c6/332/ebook/":e,this.bookList=t,this.show=!0},playAudio:function(t){var e=this;if(!document.body.getAttribute("drag")){var i=t.target,n=i.getAttribute("data-voicePath"),a=this.audio;if(a.addEventListener("playing",function(){e.audioStatus="playing"}),a.addEventListener("pause",function(){e.audioStatus="paused"}),"playing"===this.audioStatus){if(a.pause(),i.classList.contains("active"))return void i.classList.remove("active");var s=this.$el.querySelector(".is-active").querySelector(".active");s&&s.classList.remove("active")}i.classList.add("active"),a.addEventListener("ended",function(){i.classList.remove("active")}),a.querySelector("source").setAttribute("src",n),a.load(),a.currentTime=0,a.volume=1,a.play(),I.userOptLog({operId:["innerResOpt","child","spotRead"],data:{voicePath:n}})}},needLazyLoad:function(t){var e=this.$el.querySelector("section.page"+t);return!!e&&!e.getAttribute("style")},initBookWrap:function(){var t=this,e=document.body.offsetWidth,i=document.body.offsetHeight-20,n=_()(i*(1046/747));n>e&&(n=e,i=_()(e/(1046/747))),this.$el.querySelector(".ebook").setAttribute("style","width: "+n+"px;height: "+i+"px;"),setTimeout(function(){var e=2*parseFloat(getComputedStyle(t.$el.querySelector(".ebook")).padding);t.pxRate=(i-e)/1046})}}},C={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"ebook-wrap"},[i("swipe",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],ref:"mySwipe",staticClass:"ebook",attrs:{auto:0,defaultIndex:t.defaultPage,continuous:!1},on:{change:t.changeSwipe}},t._l(t.bookList,function(e,n){return n%2==0?i("swipe-item",{attrs:{"data-index":n/2}},[i("section",{class:["left","page"+e.pageId],attrs:{"data-page":e.pageId,"data-original":t.fileServer+t.DBJsonPath+e.pageImg}},t._l(e.buttons&&e.buttons.button,function(n){return e.buttons?i("a",{staticClass:"spot_reads",style:"width: "+(n.width*t.pxRate).toFixed(3)+"px;height:"+(n.height*t.pxRate).toFixed(3)+"px;left: "+(n.x*t.pxRate).toFixed(3)+"px;top: "+(n.y*t.pxRate).toFixed(3)+"px;",attrs:{href:"javascript: void(0)","data-sort":n.id,"data-voicePath":t.fileServer+t.DBJsonPath+n.soundsrc},on:{click:t.playAudio}}):t._e()})),t._v(" "),t.bookList[n+1]?i("section",{class:["right","page"+t.bookList[n+1].pageId],attrs:{"data-page":t.bookList[n+1].pageId,"data-original":t.fileServer+t.DBJsonPath+t.bookList[n+1].pageImg}},t._l(t.bookList[n+1].buttons&&t.bookList[n+1].buttons.button,function(e){return t.bookList[n+1].buttons?i("a",{staticClass:"spot_reads",style:"width: "+(e.width*t.pxRate).toFixed(3)+"px;height:"+(e.height*t.pxRate).toFixed(3)+"px;left: "+(e.x*t.pxRate).toFixed(3)+"px;top: "+(e.y*t.pxRate).toFixed(3)+"px;",attrs:{href:"javascript: void(0)","data-sort":e.id,"data-voicePath":t.fileServer+t.DBJsonPath+e.soundsrc},on:{click:t.playAudio}}):t._e()})):t._e()]):t._e()})),t._v(" "),t._m(0)],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("audio",{attrs:{id:"audio"}},[e("source",{attrs:{type:"audio/mpeg"}})])}]};var P=i("VU/8")(k,C,!1,function(t){i("aV6I")},"data-v-309a132b",null).exports,E=i("woOf"),A=i.n(E),B={name:"popup",data:function(){var t=this;return{menuList:{close:["关闭","Close"],back:["返回","Back"],sendOver:["发送给学生","Send over"],resend:["再次发送","Resend"],submission:["提交情况","Submission"]},popupShow:!1,toolbarShow:!0,popupType:["button","toolbar"],wareList:{1:function(){},2:function(){},3:function(){},4:function(){},5:function(){},6:function(){},7:function(){},101:function(){A()(t.config,{type:1})},103:function(){A()(t.config,{type:1})},104:function(){A()(t.config,{type:1})},105:function(){A()(t.config,{type:1})},106:function(){A()(t.config,{type:1})},107:function(){A()(t.config,{type:1})},108:function(){A()(t.config,{type:1})},200:function(){A()(t.config,{type:1})},300:function(){A()(t.config,{type:1})},666:function(){A()(t.config,{type:1})}}}},props:{config:{type:Object,default:function(){return{title:"",type:0,send:!1,commit:!1}}}},created:function(){o.a.filter("t",function(t){var e=g("subjectId");return void 0!==e&&"3"===e?t[1]:t[0]})},mounted:function(){var t=this;setTimeout(function(){t.hideToolbar()},3e3)},methods:{showToolbar:function(){var t=this;this.$el.querySelector("header").classList.contains("toolbar")&&(this.toolbarShow=!0,setTimeout(function(){t.hideToolbar()},3e3))},hideToolbar:function(){this.$el.querySelector("header").classList.contains("toolbar")&&(this.toolbarShow=!1)},closePopup:function(){this.popupShow=!1},setTitle:function(t){},getConfig:function(t){this.wareList[t.type](),"string"==typeof t.title&&(this.config.title=t.title),"boolean"==typeof t.isSend&&(this.config.send=t.isSend),"boolean"==typeof t.isCommit&&(this.config.commit=t.isCommit)},open:function(t,e,i){var n=this;new b.a(function(n,a){f({type:"GET",url:"/api/wareEntry",data:{UserID:g("UserID"),BookID:g("BookID"),PageID:t,FileID:e,FileType:i},success:function(t){t.Success&&t.Data?n(t.Data):a(t)},error:function(t){a(t)}})}).then(function(t){var e=t,i=o.a.onlineEnv?e:t.Url;!o.a.onlineEnv&&console.log("Url",t.Url),n.$el.querySelector("#frame").setAttribute("src",i),n.popupShow=!0,n.showToolbar(),o.a.onlineEnv?setTimeout(function(){if(!sClassJSBridge.receivePM){var t=e.split("/");t.pop();var i=document.createElement("iframe");i.name="myframe",i.src=t.join("/")+"/crossOriginAccess.html?par=2&domainName="+location.host,document.body.appendChild(i),setTimeout(function(){i.parentNode.removeChild(i)})}}):n.getConfig(t.Json)},function(t){})}}},N={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"show",rawName:"v-show",value:t.popupShow,expression:"popupShow"}],staticClass:"popup"},[i("section",{staticClass:"mask"}),t._v(" "),i("header",{directives:[{name:"show",rawName:"v-show",value:t.toolbarShow,expression:"toolbarShow"}],class:t.popupType[t.config.type]},["button"===t.popupType[t.config.type]?i("button",{on:{click:t.closePopup}},[t._v(t._s(t._f("t")(t.menuList.close)))]):t._e(),t._v(" "),"toolbar"===t.popupType[t.config.type]?i("span",{staticClass:"title"},[t._v(t._s(t.config.title))]):t._e(),t._v(" "),"toolbar"===t.popupType[t.config.type]?i("span",{staticClass:"left close",on:{click:t.closePopup}}):t._e(),t._v(" "),t.config.send?i("button",{staticClass:"right"},[t._v(t._s(t._f("t")(t.menuList.sendOver)))]):t._e(),t._v(" "),t.config.commit?i("button",{staticClass:"right"},[t._v(t._s(t._f("t")(t.menuList.submission)))]):t._e()]),t._v(" "),i("iframe",{attrs:{id:"frame",name:"OpenAct",src:"",frameborder:"0"}})])},staticRenderFns:[]};var R=i("VU/8")(B,N,!1,function(t){i("lrqT")},"data-v-40ea7bdf",null).exports,U={name:"Catalog",data:function(){return{calatogList:[],pageArr:[],ss:[{id:294266,title:"第一单元",children:[{id:304419,title:"第一组",isFolder:!1,sord:0,StartPage:1,EndPage:1},{id:294267,title:"1 观潮",isFolder:!1,sord:1,StartPage:2,EndPage:5}],isFolder:!0,sord:52,StartPage:21,EndPage:39},{id:294292,title:"第五单元",children:[{id:294296,title:"语文园地五",isFolder:!1,sord:6,StartPage:96,EndPage:98}],isFolder:!0,sord:52,StartPage:81,EndPage:98},{id:294292,title:"第五单元",children:[],isFolder:!0,sord:52,StartPage:81,EndPage:98}]}},updated:function(){this.clickOther()},methods:{currPageChange:function(t){t<1&&(t=1);var e=t,i=void 0;this.pageArr.forEach(function(t,n){var a=parseInt(t.str.split("-")[0]),s=parseInt(t.str.split("-")[1]);e>=a&&e<=s&&(i=t.id)}),this.removelight();var n=this.$el.querySelector(".id_"+i);return n?this.$emit("setTitle",n.innerHTML):this.$emit("setTitle",""),n?(n.classList.add("highlight"),n):""},clickAct:function(t){var e=t.currentTarget,i=e.getAttribute("pagestart");e.getAttribute("pageend");console.log(22222,i),this.$emit("goto",i),this.removelight(),"h4"===e.tagName.toLocaleLowerCase()&&e.nextElementSibling.children.length>0?e.nextElementSibling.children[0].classList.add("highlight"):e.classList.add("highlight")},removelight:function(){var t=Array.prototype.slice.call(this.$el.querySelectorAll(".module h4")),e=Array.prototype.slice.call(this.$el.querySelectorAll(".module ul li"));t.forEach(function(t){t.classList.remove("highlight")}),e.forEach(function(t){t.classList.remove("highlight")})},highlight:function(){},initList:function(t,e){var i=this,n=void 0;return this.$set(this,"calatogList",t),this.regroupData(this.calatogList),void 0!=e&&""!=e||(e=t[0]&&t[0].children?t[0].children[0].id:t[0].id,n=e),new b.a(function(t,a){i.$nextTick(function(){var a=i.$el.querySelector(".id_"+e);a&&a.classList.add("highlight");var s={UnitID:n,PageNum:a.getAttribute("pagestart")};t(s)})})},regroupData:function(t){var e=[],i=void 0,n=void 0;t.forEach(function(t,a){i=t.StartPage+"-"+t.EndPage,n=t.id,e.push({id:n,str:i}),t.children&&t.children.forEach(function(t,a){i=t.StartPage+"-"+t.EndPage,n=t.id,e.push({id:n,str:i})})}),this.$set(this,"pageArr",e)},clickOther:function(){document.body.addEventListener("click",function(t){var e=t.target;if("catalog reset"===e.getAttribute("class")||"menuA"===e.getAttribute("class"))return!1;document.querySelector(".catalog").classList.remove("reset")})},firstLight:function(){this.$el.querySelector("li.module:first-child h4").click()},getCurText:function(){var t=void 0;return this.$el.querySelector("li.module .highlight")&&(t=this.$el.querySelector("li.module .highlight").innerHTML),t}}},F={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"catalog"},[i("ul",t._l(t.calatogList,function(e,n){return i("li",{staticClass:"module"},[i("h4",{class:["id_"+e.id],attrs:{id:e.id,pagestart:e.StartPage,pageend:e.EndPage},on:{click:t.clickAct}},[t._v(t._s(e.title))]),t._v(" "),i("ul",t._l(e.children,function(e){return i("li",{class:["unitclass","id_"+e.id],attrs:{id:e.id,pagestart:e.StartPage,pageend:e.EndPage},on:{click:t.clickAct}},[t._v(t._s(e.title))])}))])}))])},staticRenderFns:[]};var O=i("VU/8")(U,F,!1,function(t){i("yHbO")},"data-v-5daac7df",null).exports,J={name:"ToolBar",data:function(){return{title:""}},methods:{initTitle:function(t){this.$set(this,"title",t)},back:function(){/Android|webOS|iPhone|iPod|BlackBerry/i.test(navigator.userAgent)?this.$request({url:"/api/goBack",data:{},success:function(){}}):window.location.href="../../AttLesson/Page/SelectBook.aspx"}}},q={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"toolBar"},[i("a",{staticClass:"goback",on:{click:t.back}},[i("i"),t._v("返回")]),t._v(" "),i("h3",{staticClass:"unitFull"},[t._v(t._s(t.title))])])},staticRenderFns:[]};var M=i("VU/8")(J,q,!1,function(t){i("zmad")},"data-v-b55f17fe",null).exports,V={name:"BtnGroup",mounted:function(){this.hideFullA()},methods:{getDom:function(t){return document.querySelector(t)},toggleShow:function(t,e,i){var n=this.getDom(t),a=e,s=i.currentTarget;n.classList.contains(a)?n.classList.remove(a):n.classList.add(a),s.classList.contains("fullA")&&(s.classList.contains("on")?s.classList.remove("on"):s.classList.add("on"))},prev:function(){this.$emit("prev")},next:function(){this.$emit("next")},hideFullA:function(){"undefined"!=typeof callHostFunction&&this.getDom(".fullA").classList.add("hide")}}},W={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"btnGroup"},[i("a",{staticClass:"menuA",attrs:{href:"javascript:void(0)"},on:{click:function(e){t.toggleShow(".catalog","reset",e)}}},[t._v("目录")]),i("a",{staticClass:"prevA",attrs:{href:"javascript:void(0)"},on:{click:t.prev}},[t._v("上一页"),i("i")]),i("a",{staticClass:"nextA",attrs:{href:"javascript:void(0)"},on:{click:t.next}},[t._v("下一页")]),i("a",{staticClass:"fullA",attrs:{href:"javascript:void(0)"},on:{click:function(e){t.toggleShow(".toolBar","reset",e)}}},[i("i")])])},staticRenderFns:[]};var j=i("VU/8")(V,W,!1,function(t){i("JxmZ")},"data-v-1dc2ecc4",null).exports,H={name:"TeachMap",data:function(){return{teachMapList:[]}},methods:{currPageChange:function(t,e){if(""!==e){var i=e.id;this.$emit("change",i)}},clickToggle:function(t){var e=t.currentTarget.parentNode;e.classList.contains("reset")?e.classList.remove("reset"):e.classList.add("reset")},openSource:function(t){var e=t.currentTarget,i=e.getAttribute("pageNum"),n=e.getAttribute("hidsrc");Array.prototype.slice.call(this.$el.querySelectorAll(".modList ul li")).forEach(function(t){t.classList.remove("cur")}),e.classList.add("cur"),Array.prototype.slice.call(this.$el.querySelectorAll(".modList")).forEach(function(t){t.classList.remove("cur")}),e.parentNode.parentNode.classList.add("cur"),this.$emit("goto",i),this.$emit("open",i,n)},changeState:function(t){var e=t.currentTarget;e.classList.contains("open")?(e.parentNode.classList.add("endNode"),e.classList.remove("open"),e.nextElementSibling.classList.add("hide")):(e.parentNode.classList.remove("endNode"),e.classList.add("open"),e.nextElementSibling.classList.remove("hide"))},initMap:function(t,e){this.$set(this,"teachMapList",t)}}},G={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"teachMap"},[i("div",{staticClass:"mapTab",on:{click:t.clickToggle}},[i("i")]),t._v(" "),t._m(0),t._v(" "),i("div",{staticClass:"jxDiv"},[i("div",{staticClass:"jxScroll"},[i("div",{staticClass:"sortTab"},t._l(t.teachMapList,function(e,n){return i("div",{staticClass:"modList"},[i("h4",{staticClass:"open",on:{click:t.changeState}},[i("span",{staticClass:"ico showIco"}),i("b",[t._v(t._s(e.stepName))]),i("em",{staticClass:"setEm"})]),t._v(" "),i("ul",{attrs:{id:"sortlist"+(n+1)}},t._l(e.liList,function(e){return i("li",{attrs:{hidsrc:e.sourceSrc,pageNum:e.pageNum},on:{click:t.openSource}},[i("a",{attrs:{href:"javascript:void(0)",title:e.sourceName}},[t._v(t._s(e.sourceName))])])}))])}))])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{staticClass:"currentName"},[e("i"),e("label",[this._v("教学地图")]),e("em")])}]};var z=i("VU/8")(H,G,!1,function(t){i("EVGO")},"data-v-756b5fe4",null).exports,X=i("Zrlr"),Y=i.n(X),Z=function t(e){Y()(this,t);var i="webViewShell",n="",a={init:function(){if(void 0===e){var t=function(){};e={showToolbar:t,hideToolbar:t,getConfig:t}}},getConfig:function(t,i){e.getConfig(i)},recordAuthority:function(t,e){e.resourceName=getUrlParam("BookID")+oldRmbPage+curSourceGuiId,sClassJSBridge.call("recordAuthority",e,function(e){s(t,e)})},startRecord:function(t,e){sClassJSBridge.call("startRecord")},endRecord:function(t,e){var i=Constant.upload_file_Url,n=commonFuncJS.getDataF("UserInfo").Id;e={host:i,resourcerecord:curSourceGuiId,resourceType:101,userId:n},sClassJSBridge.call("endRecord",e,function(e){s(t,e)})},stopRecord:function(t,e){sClassJSBridge.call("stopRecord")},playRecording:function(t,e){sClassJSBridge.call("playRecording",e)},stopPlayRecording:function(t,e){sClassJSBridge.call("stopPlayRecording",e)},showToolBar:function(t,i){e.showToolbar()},hideToolBar:function(t,i){e.hideToolbar()},initially:function(t,e){s("initially",{})}};function s(t,e){window.frames[i]?isNaN(parseInt(t))?window.frames[i].sClassJSBridge.common[t]():window.frames[i].sClassJSBridge.handleMessageFromXT(t,e):(""===n&&(n=$('iframe[name="OpenAct"]').attr("src").match(/https{0,1}:\/\/[^/]+/i)[0]),window.frames.OpenAct&&window.frames.OpenAct.postMessage({cbId:t,data:e},n))}window.webJsBridge=a,window.addEventListener("message",function(t){var e=t.data,i=e.fName;"getConfig"===(i=/_n/.test(i)?i.replace("_n",""):i)?"receivePM"===e.message?sClassJSBridge.receivePM=!0:a[i](e.cbId,e.message):window.frames.OpenAct&&i&&(n=t.origin,a[i](e.cbId,e.message))},!1),a.init()},K=i("5dBV"),Q=i.n(K),tt=i("wxAW"),et=i.n(tt),it=(i("hVCA"),function(){function t(e){Y()(this,t),this.pxRate=e.pxRate||1;this._q("body").on("click",".ebook section div.icon",function(t){var i=JSON.parse(this.getAttribute("data-info")),n=this.classList.contains("icon10")?"PPT":"Other",a=_()(this.parentNode.dataset.page);e.open(a,i.sourceUrl,n)})}return et()(t,[{key:"_q",value:function(t){var e="string"==typeof t?document.querySelector(t):t;try{e.on=function(t,i,n,a){"function"==typeof i?void 0===n?e.addEventListener(t,i):e.addEventListener(t,i,n):void 0===a?e.addEventListener(t,function(t){Array.prototype.slice.call(e.querySelectorAll(i)).forEach(function(e,i){e.contains(t.target)&&n.bind(e)(t)})}):e.addEventListener(t,function(t){Array.prototype.slice.call(e.querySelectorAll(i)).forEach(function(e,i){e.contains(t.target)&&n.bind(e)(t)})},a)}}catch(e){console.log("bind element error:",t),console.log(e)}return e}},{key:"_parseDom",value:function(t){var e=document.createElement("div");return"string"==typeof t&&(e.innerHTML=t),Array.prototype.slice.call(e.childNodes,0)}},{key:"add",value:function(t,e){var i=this,n=this.pxRate,a=Q()(document.documentElement.style.fontSize);t.forEach(function(t,s){var o=document.querySelector(".ebook ul .page"+t);if(!o||!o.classList.contains("icon")){var r=e[s],c=document.createDocumentFragment(),l="";r.forEach(function(t){l+='<div class="icon icon'+t.icoType+'" style="left: '+(t.X*n/a).toFixed(3)+"rem; top: "+(t.Y*n/a).toFixed(3)+'rem;" title="'+t.title.replace(/'/g,"'")+"\" data-info='"+u()(t)+"'></div>"}),i._parseDom(l).forEach(function(t){c.appendChild(t)}),o.appendChild(c)}})}}]),t}()),nt={name:"PreLesson",data:function(){return{initFlag:!1,debug:!0,bookList:[{pageImg:"./assets/images/1.jpg",pageId:-2},{pageImg:"./assets/images/1.jpg",pageId:3,buttons:{button:[{eventtype:5,subjectNum:1,itemNum:0,soundsrc:"http://183.47.42.218:1777/Course/TextBook/GD_6A/page014/sound/p014003.mp3",id:1,width:100,height:25,x:85,y:40}]}}],btnArr:[[{id:"p_76",icoType:"5",randId:"1505813969790",isread:!0,sourceUrl:"c6837bb1-ea95-4546-94b6-cb72bdd6f694",X:100,Y:60,title:"测试1",comeFrom:"ModResource"},{id:"p_77",icoType:"4",randId:"1505813969790",isread:!0,sourceUrl:"c6837bb1-ea95-4546-94b6-cb72bdd6f694",X:200,Y:60,title:"测试2",comeFrom:"ModResource"}],[{id:"p_7",icoType:"6",randId:"1505813969790",isread:!0,sourceUrl:"c6837bb1-ea95-4546-94b6-cb72bdd6f694",X:100,Y:60,title:"测试3",comeFrom:"ModResource"}]],currentPage:1,UnitID:"",UnitName:"2. Ask a partner the questions above.",PageInitID:"",CreateTime:"",PageNum:""}},components:{ebook:P,Catalog:O,ToolBar:M,BtnGroup:j,TeachMap:z,Popup:R},created:function(){var t=this;this.teachPage=this.throttle(function(e){t.postTeachPage(e)},5e3)},mounted:function(){var t=this;new Z({hideToolbar:this.$refs.popupRef.hideToolbar,showToolbar:this.$refs.popupRef.showToolbar,getConfig:this.$refs.popupRef.getConfig});window.getLoginSetting=function(){var e=t;t.initData().then(function(e){t.bookList=e.pageSource;var i=e.DBJsonPath?e.DBJsonPath:"data/"+g("UserID")+"/"+g("BookID")+"/"+g("BookName")+"/";return t.$refs.swipe.initData(t.bookList,i),""}).then(function(e){return t.getTeachPage()}).then(function(t){return t&&(e.UnitID=t.UnitID,e.UnitName=t.UnitName,e.CreateTime=t.CreateTime,e.PageNum=t.PageNum),""}).then(function(e){return t.initCatalog()}).then(function(e){return t.$refs.catalogRef.initList(e,t.UnitID)}).then(function(i){t.goto(e.PageNum||i.PageNum)}).catch(function(t){})},"android"!==this.osFlag()&&window.getLoginSetting()},methods:{osFlag:function(){var t=navigator.userAgent;return t.match(/iphone|ipad|mac/i)?"ios":t.match(/Android/i)?"android":""},log:function(){var t;this.debug&&(t=console).log.apply(t,arguments)},open:function(t,e){this.$refs.popupRef.open(t,e)},initData:function(){var t=this;return new b.a(function(e,i){t.$request({type:"GET",url:"/api/getDbJsById",data:{UserID:g("UserID"),BookID:g("BookID")},success:function(n){if("string"==typeof n.Data){var a="";if(o.a.onlineEnv||"android"===t.osFlag()){var s=n.Data,r=s.length;a="/"+s.substring(s.indexOf("DBJsonPath='")+12,s.indexOf("';var dbJson"))+"/",n.Data=s.substring(s.indexOf("dbJson='")+8,r-2)}else a=JSON.parse(n.Data);n.Data=JSON.parse(n.Data),o.a.onlineEnv&&(n.Data.DBJsonPath=a)}n.Success&&n.Data&&n.Data.pageSource?e(n.Data):i(n)},error:function(t){i(t)}})})},goto:function(t){this.$refs.swipe.goto(t)},prev:function(){this.$refs.swipe.prev()},next:function(){this.$refs.swipe.next()},throttle:function(t,e,i){var n=void 0,a=void 0;return function(){var s=(new Date).getTime(),o=this,r=arguments;a||(a=s),i&&s-a>i?(n&&clearTimeout(n),a=s,t.apply(o,r)):(n&&clearTimeout(n),n=setTimeout(function(){t.apply(o,r)},e))}},postTeachPage:function(t){var e=this;return!this.PageInitID&&(this.PageInitID=S()()),!this.CreateTime&&(this.CreateTime=v((new Date).getTime())),new b.a(function(i,n){e.$request({type:"GET",url:"/api/postTeachPage",data:{pagedata:{PageInitID:e.PageInitID,UserID:g("UserID"),GradeID:g("GradeID"),ClassID:g("ClassID"),BookID:g("BookID"),SubjectID:g("SubjectID"),UnitID:e.UnitID,PageNum:e.currentPage,CreateTime:e.CreateTime,AspxName:"Teaching",EditionID:g("EditionID"),BookType:g("BookType"),Stage:null,UnitName:t},UserID:g("UserID"),BookID:g("BookID"),ClassID:g("ClassID"),AspxName:"Teaching"},success:function(t){t.Success?("string"==typeof t.Data&&(t.Data=JSON.parse(t.Data)),i(t.Data)):n(t)},error:function(t){n(t)}})})},getWater:function(t){var e=this;new b.a(function(i,n){e.$request({type:"GET",url:"/api/selBookPageData",data:{UserID:g("UserID"),BookID:g("BookID"),Pages:t},success:function(t){"string"==typeof t.Data&&(t.Data=JSON.parse(t.Data)),t.Success&&t.Data&&t.Data.length?i(t.Data):n(t)},error:function(t){n(t)}})}).then(function(t){var i=[],n=[];t.forEach(function(t){var e=JSON.parse(t);i.push(e.btns),n.push(e.pageNum)}),e.btnArr=i,e.log("water data:",i),e.water.add(n,e.btnArr)}).catch(function(t){})},changeSwipe:function(t,e,i,n){var a=this;if(console.log("swipe from "+e+" to "+t),this.initFlag||(this.water=new it({open:this.$refs.popupRef.open,pxRate:this.$refs.swipe.pxRate,currentPage:this.currentPage})),t+1>0&&this.getWater(0!==t?t+","+(t+1):""+(t+1)),"prev"===n||"next"===n||"goto"===n){this.currentPage=t;var s=this.$refs.catalogRef.currPageChange(t);this.teachPage(s.innerText),this.initFlag&&this.UnitID===s.id||(this.initFlag=!0,this.initTeachMap(s.id).then(function(t){console.log("教学地图数据"+t),a.$refs.tMapRef.initMap(t,s.id),a.UnitID=s.id},function(t){}))}},getTeachPage:function(){var t=this;return new b.a(function(e,i){t.$request({type:"GET",url:"/api/getTeachPage",data:{UserID:g("UserID"),BookID:g("BookID"),ClassID:g("ClassID"),AspxName:"Teaching"},success:function(t){t.Success?("string"==typeof t.Data&&""!==t.Data&&(t.Data=JSON.parse(t.Data)),e(t.Data)):i(t)},error:function(t){i(t)}})})},initCatalog:function(t){var e=this;return new b.a(function(t,i){e.$request({type:"GET",url:"/api/getCatalogByBookId",data:{UserID:g("UserID"),BookID:g("BookID")},success:function(e){e.Success?("string"==typeof e.Data&&(e.Data=JSON.parse(e.Data)),t(e.Data)):i(e)},error:function(t){i(t)}})})},initTeachMap:function(t){var e=this;return new b.a(function(i,n){e.$request({type:"GET",url:"/api/getCurTeachMap",data:{UserID:g("UserID"),BookID:g("BookID"),UnitID:t},success:function(t){t.Success?("string"==typeof t.Data&&""!==t.Data&&(t.Data=JSON.parse(t.Data)),i(t.Data)):n(t)},error:function(t){n(t)}})})},transmitTitle:function(t){this.$refs.barRef.initTitle(t)}}},at={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"app"}},[i("ebook",{ref:"swipe",on:{change:t.changeSwipe}}),t._v(" "),i("ToolBar",{ref:"barRef"}),t._v(" "),i("Catalog",{ref:"catalogRef",on:{goto:t.goto,setTitle:t.transmitTitle}}),t._v(" "),i("BtnGroup",{on:{prev:t.prev,next:t.next}}),t._v(" "),i("TeachMap",{ref:"tMapRef",on:{change:t.initTeachMap,goto:t.goto,open:t.open}}),t._v(" "),i("Popup",{ref:"popupRef"})],1)},staticRenderFns:[]};var st=i("VU/8")(nt,at,!1,function(t){i("rAjb")},null,null).exports,ot={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"bookList"},[n("ul",{staticClass:"bookWrap"},t._l(t.bookList,function(e){return n("li",{on:{click:t.startTeaching}},[n("img",{attrs:{src:e.thumbnail}}),t._v(" "),n("i"),t._v(" "),n("span",[t._v(t._s(e.name))])])})),t._v(" "),n("img",{attrs:{src:i("I8bR")}})]),t._v(" "),t._m(0)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"footer"},[e("a",{attrs:{href:"javascript:void();"}},[this._v("更多上课教材>")])])}]};var rt={name:"Bookcase",data:function(){return{teacherName:"reamd",classList:[],selectValue:"公共班级"}},components:{BookList:i("VU/8")({name:"BookList",data:function(){return{bookList:[{name:"牛津深圳版小学英语四年级上册",thumbnail:"http://183.47.42.218:1777/TextBookHandler.ashx?OP=getImg&BookID=171"},{name:"牛津深圳版小学英语二年级下册",thumbnail:"http://183.47.42.218:1777/TextBookHandler.ashx?OP=getImg&BookID=264"},{name:"北师大版小学数学四年级上册",thumbnail:"http://183.47.42.218:1777/TextBookHandler.ashx?OP=getImg&BookID=440"}]}},methods:{startTeaching:function(){this.$router.push({path:"PreLesson"})}}},ot,!1,function(t){i("nxtX")},"data-v-758d7db6",null).exports},mounted:function(){},methods:{selectClick:function(){var t=event.currentTarget;t.classList.contains("on")?t.classList.remove("on"):t.classList.add("on")},selectAct:function(){var t=event.currentTarget,e=t.innerHTML;Array.prototype.slice.call(t.parentNode.querySelectorAll("li")).forEach(function(t){t.classList.remove("on")}),t.classList.add("on"),this.selectValue=e},Prelesson:function(){}}},ct={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("header",[i("div",{staticClass:"left"},[i("img",{staticClass:"avatar",attrs:{src:"http://183.47.42.218:8022/KingsunFiles/AvatarFile/6d363b38-d268-46c4-92ab-46de283317e2.jpg?random=0.9944403291962007"}}),t._v(" "),i("span",{staticClass:"name"},[t._v("欢迎您,"+t._s(t.teacherName)+"老师")])]),t._v(" "),i("div",{staticClass:"classSelect",on:{click:t.selectClick}},[i("label",[t._v(t._s(this.selectValue))]),t._v(" "),i("i"),t._v(" "),i("div",{staticClass:"classList"},[i("i"),t._v(" "),i("ul",[i("li",{staticClass:"on",attrs:{classid:"-1",gradeid:"-1"},on:{click:t.selectAct}},[t._v("公共班级")]),t._v(" "),i("li",{attrs:{classid:"1",gradeid:"2"},on:{click:t.selectAct}},[t._v("二年级圆梦班")])])])]),t._v(" "),t._m(0)]),t._v(" "),i("section",{staticClass:"bookList_wrap"},[i("book-list")],1),t._v(" "),t._m(1)])},staticRenderFns:[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"right"},[i("span",[i("p",{staticClass:"week"},[t._v("星期四")]),t._v(" "),i("p",{staticClass:"date"},[t._v("2018-2-08")])]),t._v(" "),i("p",{staticClass:"time"},[t._v("13:50")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("footer",[e("button",[this._v("去备课")])])}]};var lt=i("VU/8")(rt,ct,!1,function(t){i("2v13")},"data-v-30d59eba",null).exports,ut={name:"Tips",data:function(){return{tipsText:"我是提示语",showFlog:!1}},methods:{initData:function(t){var e=this;this.tipsText=t,this.showFlog=!0,setTimeout(function(){e.showFlog=!1},1500)}}},dt={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{directives:[{name:"show",rawName:"v-show",value:this.showFlog,expression:"this.showFlog"}],staticClass:"tips shadow"},[e("span",[this._v(this._s(this.tipsText))])])},staticRenderFns:[]};var ht={name:"Login",components:{Tips:i("VU/8")(ut,dt,!1,function(t){i("0jBH")},"data-v-5cd21288",null).exports},data:function(){return{userName:"",userPwd:""}},mounted:function(){var t=this;window.getLoginSetting=function(){console.log("js桥已载入")},document.addEventListener("keydown",function(e){13===e.keyCode&&t.checkUser()})},methods:{checkUser:function(){var t=this;this.isNull(this.userName)||this.isNull(this.userPwd)?this.isNull(this.userName)?this.$refs.Tips.initData("账号不能为空"):this.isNull(this.userPwd)&&this.$refs.Tips.initData("密码不能为空"):new b.a(function(e,i){t.$request({type:"GET",url:"/api/checkUser",data:{name:t.userName,pwd:t.userPwd},success:function(t){t.Success?e(t):i(t)},error:function(t){i(t)}})}).then(function(e){t.$router.replace({path:"BookCase"})},function(e){t.$refs.Tips.initData("账号或密码有误，请重新输入")})},setIpAndPort:function(){},isNull:function(t){if(""===t)return!0;return new RegExp("^[ ]+$").test(t)}}},pt={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"loginDiv bgImg"},[i("div",{staticClass:"loginBox"},[i("a",{staticClass:"set",on:{click:t.setIpAndPort}}),t._v(" "),i("ul",[i("li",{staticClass:"user"},[i("span",[i("input",{directives:[{name:"model",rawName:"v-model",value:t.userName,expression:"userName"}],attrs:{name:"txt_Account",type:"text",id:"txt_Account",placeholder:"账号",spellcheck:"false",autocomplete:"off"},domProps:{value:t.userName},on:{input:function(e){e.target.composing||(t.userName=e.target.value)}}})]),t._v(" "),i("p",{staticClass:"validationTip",attrs:{id:"account"}})]),t._v(" "),i("li",{staticClass:"pass"},[i("span",[i("input",{directives:[{name:"model",rawName:"v-model",value:t.userPwd,expression:"userPwd"}],attrs:{name:"txt_Password",type:"password",id:"txt_Password",placeholder:"密码"},domProps:{value:t.userPwd},on:{input:function(e){e.target.composing||(t.userPwd=e.target.value)}}})]),t._v(" "),i("p",{staticClass:"validationTip",attrs:{id:"password"}})])]),t._v(" "),i("p",{staticClass:"pS1"},[t._v("忘记密码请联系学校管理员！")]),t._v(" "),i("p",{staticClass:"pS2"},[i("input",{staticClass:"loginBtn",attrs:{type:"submit",name:"btn_Login",value:"登 录",id:"btn_Login"},on:{click:t.checkUser}})])]),t._v(" "),i("Tips",{ref:"Tips"}),t._v(" "),i("div",{staticClass:"copyRight"},[t._v("© 2017    深圳市方直科技股份有限公司")])],1)},staticRenderFns:[]};var ft={Root:Tt,Lesson:st,Bookcase:lt,Login:i("VU/8")(ht,pt,!1,function(t){i("zwq9")},"data-v-0f142691",null).exports};o.a.use(m.a);var gt=new m.a({component:ft.Root,routes:[{path:"/Lesson",component:ft.Lesson},{path:"/Bookcase",component:ft.Bookcase},{path:"/Login",component:ft.Login}],mode:"hash"}),vt=i("NYxO"),mt=function(t,e){var i=t.commit,n=t.state;console.log(n.schedule.info),setTimeout(function(){i("UPDATE_SCHDULE",e)},1e3)},wt=function(t){return t.schedule.date+" 09:00"},bt=function(t,e){t.schedule.info=e};o.a.use(vt.a);var yt={router:gt,store:new vt.a.Store({modules:{},state:{sysConfig:{title:"study",type:10},schedule:{date:"2017-11-17",info:"start run"}},actions:n,getters:a,mutations:s}),filters:{},name:"root",components:{},created:function(){this.$router.replace({path:"Lesson"})}},St={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"wrap"},[e("router-view")],1)},staticRenderFns:[]};var Tt=i("VU/8")(yt,St,!1,function(t){i("5cuZ")},null,null).exports;o.a.config.productionTip=!1,o.a.prototype.$request=f,o.a.onlineEnv="file:"!==location.protocol,setTimeout(function(){var t=document.documentElement.clientWidth;document.documentElement.style.fontSize=t/19.2+"px"},0),window.addEventListener("resize",function(){setTimeout(function(){var t=document.documentElement.clientWidth;document.documentElement.style.fontSize=t/19.2+"px"},0)}),new o.a(Tt).$mount("#app")},aV6I:function(t,e){},hVCA:function(t,e){},lrqT:function(t,e){},nxtX:function(t,e){},psyf:function(t,e){},rAjb:function(t,e){},yHbO:function(t,e){},zmad:function(t,e){},zwq9:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.d89a2b2f5597a1cd6afb.js.map